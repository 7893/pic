name = "pic-scheduler"
main = "src/index.js"
compatibility_date = "2024-10-01"
compatibility_flags = ["nodejs_compat"]

# Environment variables should be set via wrangler secrets
# Run: wrangler secret put UNSPLASH_API_KEY

[[r2_buckets]]
binding = "R2"
bucket_name = "pic-r2"

[[d1_databases]]
binding = "DB"
database_name = "pic-d1"
database_id = "1a110c7e-1ba4-4389-8a64-f73fd7076443"

[ai]
binding = "AI"

[[analytics_engine_datasets]]
binding = "AE"
dataset = "pic-ae"

[[workflows]]
binding = "PHOTO_WORKFLOW"
name = "pic-photo-wf"
class_name = "DataPipelineWorkflow"

[triggers]
crons = ["*/10 * * * *"]
